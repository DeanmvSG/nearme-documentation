name: Booking
slug: 'booking'
show_path_format: '/:transactable_type_id/:id'
searchable: false
skip_payment_authorization: true
hours_for_guest_to_confirm_payment: 24
single_transactable: false
skip_location: true
bookable_noun: 'Booking'
enable_photo_required: false
lessor: 'Passenger'
lessee: 'Driver'
enable_reviews: true
auto_accept_invitation_as_collaborator: true
require_transactable_during_onboarding: true
access_restricted_to_invited: true

action_types:
  - enabled: true
    cancellation_policy_enabled: '1'
    cancellation_policy_hours_for_cancellation: 24
    cancellation_policy_penalty_hours: 1.5
    type: TransactableType::OfferAction
    pricings:
      - unit: 'item'
        number_of_units: 1
        order_class_name: 'Offer'
        allow_free_booking: false
        allow_nil_price_cents: true
        fixed_price_cents: 3800
      - unit: 'item'
        number_of_units: 2
        order_class_name: 'Offer'
        allow_free_booking: false
        allow_nil_price_cents: true
        fixed_price_cents: 4500
      - unit: 'item'
        number_of_units: 3
        order_class_name: 'Offer'
        allow_free_booking: false
        allow_nil_price_cents: true
        fixed_price_cents: 4500

custom_attributes:
  - name: city_name
    label: 'City'
    html_tag: 'hidden'
    default_value: 'Sydney'

  - name: trip_start_date
    label: 'Start Date'
    attribute_type: 'date'
    html_tag: 'hidden'
    wrapper_html_options_string: >-
      data-property-start-date => ''
    validation:
      required: true

  - name: trip_start_time
    label: 'Start Time'
    attribute_type: 'time'
    html_tag: 'hidden'
    wrapper_html_options_string: >-
      data-property-start-time => ''
    validation:
      required: true

  - name: pickup_location
    label: 'Pickup location'

  - name: duration
    label: 'How many hours you want to book?'
    attribute_type: 'integer'
    html_tag: 'select'
    wrapper_html_options_string: >-
      data-property-duration => ''
    validation:
      required: true
      valid_values:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 10
        - 11
        - 12

  - name: unknown_location
    label: To Be Determined
    attribute_type: boolean
    html_tag: check_box
    hint: 'must be set 48 hrs ahead of the pickup time and communicated with the driver through messaging'

  - name: number_of_passengers
    label: Number of Passengers
    attribute_type: 'integer'
    html_tag: 'select'
    validation:
      required: true
      valid_values:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 10
        - 11
        - 12

  - name: special_requests
    label: 'Special Requests'
    hint: 'Enter Special Requests including disabilities'
    html_tag: textarea

validation:
  - field_name: name
    required: true


form_components:
  - type: transactable_attributes
    name: Details
    fields:
      - transactable: name
      - transactable: description
      - transactable: driver_category
      - transactable: city_name
      - transactable: trip_start_date
      - transactable: trip_start_time
      - transactable: duration
      - transactable: pickup_location
      - transactable: unknown_location
      - transactable: number_of_passengers
      - transactable: Category - Extras
      - transactable: special_requests
      - transactable: Category - Categories of Interest
      - transactable: Custom Model - Languages
      - transactable: price

  - type: space_wizard
    name: Tell us a little about yourself
    fields:
      - seller: about

  - type: space_wizard
    name: Tell us a little about your booking
    fields:
      - transactable: name
      - transactable: description
      - transactable: driver_category
      - transactable: city_name
      - transactable: trip_start_date
      - transactable: trip_start_time
      - transactable: duration
      - transactable: number_of_passengers
      - transactable: pickup_location
      - transactable: unknown_location
      - transactable: Category - Extras
      - transactable: special_requests
      - transactable: Category - Categories of Interest
      - transactable: Custom Model - Languages
      - transactable: price
