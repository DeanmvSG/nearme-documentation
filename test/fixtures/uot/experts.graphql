query search_experts(
  $per_page: Int,
  $page: Int,
  $query: String,
  $city: String,
  $workplace_types: [String],
  $travel: [String],
  $category_ids: [Int],
  $is_deleted: Boolean,
  $enabled: Boolean
  $profile_field_sort: String,
  $profile_type: String,
  $sort: String,
  $order: String,
  $tags: [String]
)
{

  experts: people(
    per_page: $per_page,
    page: $page,
    query: $query,
    sort: [
      {
        profile_key: $profile_field_sort,
        profile_type: $profile_type,
        order: $order
      },
      {
        key: $sort,
        order: $order
      }
    ],
    user: {
      is_deleted: $is_deleted,
      tags: $tags,
      address: { city: $city },
      profiles: [{
          profile_type: $profile_type,
          enabled: $enabled,
          categories: [{ ids: $category_ids }],
          properties: [
            { name: "workplace_type", values: $workplace_types },
            { name: "travel", values: $travel }
          ]
        }
      ]
    }
  ) {
    total_entries
    has_next_page
    has_previous_page
    size

    results {
      slug
      name

      photos {
        thumb: url(version: "thumb")
        medium: url(version: "medium")
      }

      address: current_address {
        city
        street
        country
        suburb
        state
      }

      tag_list { name slug }

      default_profile: profile(profile_type: "default") {
        languages: category_list(name_of_root: "Languages") { name permalink }
      }

      buyer_profile: profile(profile_type: "buyer") {
        category_list { name name_of_root permalink }

        expertises: category_list(name_of_root: "Area Of Expertise") { name permalink }
        industries: category_list(name_of_root: "Industry") { name permalink }
        languages: category_list(name_of_root: "Languages") { name permalink }

        workplace_type: property_array(name: "workplace_type")
        pro_service: property(name: "pro_service")
        hourly_rate: property(name: "hourly_rate")
      }
    }
  }
}
