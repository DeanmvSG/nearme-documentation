.comment-a{"data-comment-id": comment.id}
  %figure
    = image_tag comment.creator.avatar.url(:thumb), width: 50
  %p.author
    = link_to comment.creator.decorate.secret_name, profile_path(comment.creator)
  %blockquote
    %p= readmore(comment.body)
  %p.meta
    %time{datetime: comment.created_at.strftime('%Y-%m-%d %H:%M')}= I18n.l(comment.created_at, format: :date_time)
    %span &bull;
    - if report = comment.reported_by(current_user, request.remote_ip)
      = link_to t(:cancel_spam_report), url_for([comment.commentable, comment, report]), remote: true, method: :delete
    - else
      = link_to t(:report_as_spam), url_for([comment.commentable, comment, comment.spam_reports.build]), remote: true, method: :post

    - if comment.can_remove?(current_user)
      %span &bull;
      = link_to t(:remove_comment), url_for([comment.commentable, comment]), remote: true, method: :delete
