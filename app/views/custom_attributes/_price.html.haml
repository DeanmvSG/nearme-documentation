- if f.object.free?
  - enable_inputs_daily, enable_inputs_hourly, enable_inputs_free = false, false, true
- elsif f.object.hourly_reservations
  - enable_inputs_daily, enable_inputs_hourly, enable_inputs_free = false, true, false
- else
  - enable_inputs_daily, enable_inputs_hourly, enable_inputs_free = true, false, false

%div{:class => "control-group #{"error" if f.object.errors.include?(:free).present?}"}
  = f.label :daily_price, 'Price', :class => 'control-label flush-top' do
    %abbr{:title => "required"} *
    Price

  .controls
    %div.price-inputs-daily
      %label.radio
        - if platform_context.instance.pricing_options['daily'] || platform_context.instance.pricing_options['weekly'] || platform_context.instance.pricing_options['monthly']
          = f.radio_button :price_type, "daily", :checked => enable_inputs_daily
          Daily, weekly, or monthly

      .price-input-options
        .price-inputs-wrapper.left
          = render 'manage/listings/price_field', :f => f, :price => "daily", :label => "day", :include_checkbox => true if platform_context.instance.pricing_options['daily']
          = render 'manage/listings/price_field', :f => f, :price => "weekly", :label => "week", :include_checkbox => true if platform_context.instance.pricing_options['weekly']
          = render 'manage/listings/price_field', :f => f, :price => "monthly", :label => "month", :include_checkbox => true if platform_context.instance.pricing_options['monthly']

    - if platform_context.instance.pricing_options['hourly']
      %div.price-inputs-hourly
        %label.radio
          = f.radio_button :price_type, "hourly", :checked => enable_inputs_hourly
          Hourly

        .price-input-options
          .price-inputs-wrapper.left
            = render 'manage/listings/price_field', :f => f, :price => "hourly", :label => "hour"

    - if f.object.errors.include?(:hourly_reservations).present?
      %p.error-block= f.object.errors[:hourly_reservations].first

    - if platform_context.instance.pricing_options['free']
      %div.price-inputs-free
        %label.radio
          = f.radio_button :price_type, "free", :checked => enable_inputs_free
          Free

    - if f.object.errors.include?(:price_type).present?
      %p.error-block= f.object.errors[:price_type].first

    - if f.object.errors.include?(:free).present?
      %p.error-block
        = 'must be free if all prices are zero'
