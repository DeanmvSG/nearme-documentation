= simple_form_for [:instance_admin, @controller_scope, @form_componentable, resource] do |f|
  .content-container
    %h4 Basic Configuration
    .row
      .input-container.col-xs-12
        = f.input :name, input_html: { class: 'form-control' }
    .row
      .input-container.col-xs-12
        = f.input :form_type, collection: FormComponent::FORM_TYPES.map { |t| [t.humanize, t] }, include_blank: false, input_html: { data: { 'form-component-form-type' => 1 } }

    %h4 Fields in this component
    .row
      .text-container-full
        = render partial: "shared/custom_fields", locals: { f: f, form_componentable: @form_componentable }

  = content_for :header_buttons do
    = f.button :submit, 'Save', class: 'btn btn-blue pull-right', data: { 'submit-form' => 1, 'form-selector' => 'form' }

- collection_for_form_components = PlatformContext.current.instance.decorate.collection_for_form_components_by_type(@form_type)
- if collection_for_form_components.length > 0
  .content-container
    %h4
      Copy From Template
    = simple_form_for :copy_template, {:url => [:create_as_copy, :instance_admin, @controller_scope, @form_componentable, resource]} do |f|
      .row
        .input-container.col-xs-6
          = f.input :form_type, as: :hidden, input_html: { value: @form_type }
      .row
        .input-container.col-xs-6
          = f.input :form_componentable_id, label: 'Template', collection: collection_for_form_components, input_html: { class: 'form-control' }, include_blank: false
      .row
        .input-container.col-xs-6
          = f.button :submit, 'Copy From Template', class: 'btn btn-blue pull-right'
        
