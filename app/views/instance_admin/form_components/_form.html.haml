= simple_form_for [:instance_admin, @controller_scope, @form_componentable, resource], html: { id: 'form-component'} do |f|
  .content-container
    %h4= t('instance_admin.manage.form_components.basic_configuration')
    .row
      .input-container.col-xs-12
        = f.input :name, input_html: { class: 'form-control' }
    .row
      .input-container.col-xs-12
        = f.input :form_type, collection: resource.form_types(@form_componentable).map { |t| [t.humanize, t] }, include_blank: false, input_html: { data: { 'form-component-form-type' => 1 } }

    %h4= t('instance_admin.manage.form_components.fields_in_this_component')
    .row
      .text-container-full
        = render partial: "shared/custom_fields", locals: { f: f, form_componentable: @form_componentable }

  = content_for :header_buttons do
    = f.button :submit, t('instance_admin.save'), class: 'btn btn-blue pull-right', data: { 'submit-form' => 1, 'form-selector' => '#form-component' }

- collection_for_form_components = current_instance.decorate.collection_for_form_components_by_type(@form_type, @form_componentable)
- if collection_for_form_components.length > 0
  .content-container
    %h4
      = t('instance_admin.manage.form_components.copy_from_template')
    = simple_form_for :copy_template, {:url => [:create_as_copy, :instance_admin, @controller_scope, @form_componentable, :form_components]} do |f|
      .row
        .input-container.col-xs-6
          = f.input :form_type, as: :hidden, input_html: { value: @form_type }
      .row
        .input-container.col-xs-6
          = f.input :form_componentable_id, label: t('instance_admin.manage.form_components.template'), collection: collection_for_form_components, input_html: { class: 'form-control' }, include_blank: false
      .row
        .input-container.col-xs-6
          = f.button :submit, t('instance_admin.manage.form_components.copy_from_template'), class: 'btn btn-blue pull-right'
