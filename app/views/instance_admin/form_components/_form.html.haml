= simple_form_for [:instance_admin, @controller_scope, @form_componentable, resource] do |f|
  %br
  %br
  %h4 Basic Configuration
  .content-container.dropshadow
    .row
      .input-container.col-xs-12
        = f.input :name, input_html: { class: 'form-control' }
        = f.input :form_type, collection: FormComponent::FORM_TYPES.map { |t| [t.humanize, t] }, include_blank: false, input_html: { data: { 'form-component-form-type' => 1 } }

    %h4 Fields in this component
    = render partial: "shared/custom_fields", locals: { f: f, form_componentable: @form_componentable }
  .content-container
    = f.button :submit, 'Save', class: 'btn btn-green pull-right'

- collection_for_form_components = PlatformContext.current.instance.decorate.collection_for_form_components_by_type(@form_type)
- if collection_for_form_components.length > 0
  .form_components_templates
    .form_components_container
      = simple_form_for :copy_template, {:url => [:create_as_copy, :instance_admin, @controller_scope, @form_componentable, resource]} do |f|
        = f.input :form_type, as: :hidden, input_html: { value: @form_type }
        = f.input :form_componentable_id, label: 'Template', collection: collection_for_form_components, input_html: { class: 'form-control' }, include_blank: false
        .content-container
          = f.button :submit, 'Copy From Template', class: 'btn btn-green pull-right'
      
