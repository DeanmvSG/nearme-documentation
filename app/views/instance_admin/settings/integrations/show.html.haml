= render "payment_gateways"

= simple_nested_form_for @instance, :url => instance_admin_settings_integrations_path, :html => { :multipart => true } do |f|
  %h4 Test Mode
  .content-container
    .row.dropshadow
      .input-container.col-xs-12
        = f.input :test_mode, required: false, as: :boolean, label: ("Use test payment credentials (Marketplace must be password protected in #{link_to 'Settings > Configuration', instance_admin_settings_configuration_path, :target => "_blank"})").html_safe
  .content-container
    .row
      = f.button :submit, 'Save', class: 'btn btn-grey pull-right'

  %h4 Authentication
  .content-container.dropshadow
    - %w(Twitter Facebook LinkedIn Instagram).each do |provider|
      .row
        .input-container.col-xs-6
          = f.input :"#{provider.downcase}_consumer_key", label: "#{provider} Consumer Key", required: false, input_html: { class: 'form-control' }
        .input-container.col-xs-6
          = f.input :"#{provider.downcase}_consumer_secret", label: "#{provider} Consumer Secret", required: false, input_html: { class: 'form-control' }

  %h4 Google Analytics Tracking Codes
  .content-container
    .row.dropshadow
      .input-container.col-xs-12
        = f.simple_fields_for :domains do |domains_form|
          = domains_form.input :google_analytics_tracking_code, label: domains_form.object.name, placeholder: "UA-10000000-1"

  %h4 Shippo
  .content-container
    .row
      .input-container.col-xs-12
        = f.input :shippo_enabled, as: :boolean, label: "Enable Shippo shipping support", input_html: { class: 'form-control' }
    .row.dropshadow
      .input-container.col-xs-6
        = f.input :shippo_username, label: "Shippo Username", required: false, input_html: { class: 'form-control' }
      .input-container.col-xs-6
        = f.input :shippo_password, label: "Shippo Password", required: false, input_html: { class: 'form-control' }, as: :string

  %h4 Olark
  .content-container
    .row.dropshadow
      .input-container.col-xs-6
        = f.input :olark_api_key, label: 'Olark API Key', required: false, input_html: { class: 'form-control' }
      .input-container.col-xs-6
        = f.input :olark_enabled, required: false, as: :boolean, label: "Enable Olark support chat", input_html: { class: 'form-control' }

  .content-container
    .row
      = f.button :submit, 'Save', class: 'btn btn-green pull-right'
