= simple_form_for [:instance_admin, @controller_scope, resource], :html => { :multipart => true} do |f|
  .content-container
    .row
      .input-container.col-xs-6
        = f.input :field_name, collection: @attributes, as: :grouped_select, group_method: :last
        = f.input :validatable_type, as: :hidden
      .input-container.col-xs-6
        = f.input :valid_values, label: 'Valid values (separate with comma)', wrapper_html_options: { class: 'for-select-tag' }, input_html: { value: f.object.valid_values.join(', '), style: "width: 100%;" }
    .row
      .input-container.col-xs-4
        = f.input :required, as: :boolean
      .input-container.col-xs-4
        = f.input :min_length, input_html: { class: 'form-control' }
      .input-container.col-xs-4
        = f.input :max_length, input_html: { class: 'form-control' }

  = content_for :header_buttons do
    = f.button :submit, t('instance_admin.save'), class: 'btn btn-blue pull-right', data: { 'submit-form' => 1, 'form-selector' => 'form' }

- content_for :domready do
  $("#custom_validator_field_name").on('change', function(){
  $("#custom_validator_validatable_type").val($("#custom_validator_field_name option:selected").closest('optgroup').attr('label'))
  });

