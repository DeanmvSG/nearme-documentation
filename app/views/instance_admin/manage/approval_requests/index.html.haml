%h4
  VENDOR APPROVAL
  %span.pull-right
    = link_to 'Settings', instance_admin_manage_approval_request_templates_path

.sub-header-nav
  %ul
    - %w(pending rejected questioned approved).each do |state|
      %li
        = link_to "#{state.capitalize} (#{ApprovalRequest.send(state).count})", instance_admin_manage_approval_requests_path(:show => state), class: " #{'active' if state == params[:show]}"

.content-container
  .row
    .table-container.col-xs-12.dropshadow
      %table.table.table-hover
        %thead
          %tr
            %th Object Name
            %th Object Type
            %th Notes
            %th Created At
            %th Creator

        %tbody
          - @approval_requests.each do |resource|
            %tr
              %td
                = resource.decorate.owner_name
              %td
                = resource.decorate.owner_class
              %td
                = resource.notes.try(:truncate, 25)
              %td
                =l resource.created_at, format: :short
              %td
                = resource.decorate.login_as_owner_creator_link
              %td
                = link_to 'Manage', edit_instance_admin_manage_approval_request_path(resource)
        = will_paginate @approval_requests
