.col-md-2.page-navigation
  %nav
    %ul
      - if buyable?
        = dashboard_menu_item 'dashboard/orders', dashboard_orders_path
      - else
        = dashboard_menu_item 'dashboard/user_reservations', dashboard_user_reservations_path,
            active: (params[:controller].include?('user_recurring_bookings') || params[:controller].include?('user_reservations'))

      = dashboard_menu_item 'dashboard/user_messages', dashboard_user_messages_path

    - if @company.present?
      %ul
        %li.nav-head
          = t('dashboard.nav.your_shop')
        = dashboard_menu_item 'dashboard/companies', edit_dashboard_company_path(@company)
        - if buyable?
          = dashboard_menu_item 'dashboard/products', dashboard_products_path
        - elsif TransactableType.first
          = dashboard_menu_item 'dashboard/transactables', dashboard_transactable_type_transactables_path(TransactableType.first)
        = dashboard_menu_item 'dashboard/payouts', edit_dashboard_payouts_path
        - if buyable?
          = dashboard_menu_item 'dashboard/orders_received', dashboard_orders_received_index_path
        - else
          = dashboard_menu_item 'dashboard/host_reservations', dashboard_host_reservations_path,
            active: (params[:controller].include?('host_recurring_bookings') || params[:controller].include?('host_reservations'))
      %ul
        %li.nav-head
          = t('dashboard.nav.admin')
        = dashboard_menu_item 'dashboard/transfers', dashboard_transfers_path
        = dashboard_menu_item 'dashboard/analytics', dashboard_analytics_path
        = dashboard_menu_item 'dashboard/users', dashboard_users_path
        = dashboard_menu_item 'dashboard/waiver_agreement_templates', dashboard_waiver_agreement_templates_path
        = dashboard_menu_item 'dashboard/white_labels', edit_dashboard_white_label_path(current_user.companies.first)
        - if TransactableType.all.any? { |t| t.has_action?('Request For Quote') }
          = dashboard_menu_item 'dashboard/support/tickets', dashboard_support_tickets_path

      - if platform_context.instance.user_blogs_enabled?
        %ul
          %li.nav-head
            = t('dashboard.nav.blog')
          = dashboard_menu_item 'dashboard/blog', dashboard_blog_path, link_text: t('dashboard.nav.blog_posts'),
            active: (params[:controller].include?('user_blog') && params[:action] == 'show') || (params[:controller].include?('blog_posts'))
          = dashboard_menu_item 'dashboard/blog', edit_dashboard_blog_path, link_text: t('dashboard.nav.blog_settings'),
            active: (params[:controller].include?('user_blog') && params[:action] == 'edit' && !params[:controller].include?('blog_posts'))

    %ul
      %li.nav-head
        = t('dashboard.nav.account')
      = dashboard_menu_item 'registrations/edit', dashboard_profile_path, link_text: t('dashboard.nav.edit'), active: (params[:controller].include?('registration') && params[:action].include?('edit'))
      = dashboard_menu_item 'registrations/social_accounts', social_accounts_path, link_text: t('dashboard.nav.social_accounts'), active: (params[:controller].include?('registration') && params[:action].include?('social_accounts'))
