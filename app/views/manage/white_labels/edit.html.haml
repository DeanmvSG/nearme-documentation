- title "White-label"

= show_manage_navigation(:white_label)

.row-fluid
  .span8.offset2
    = simple_form_for @company, :url => manage_white_label_path(@company), :html => {multipart: true, class: "form-horizontal form-expandable", :id => 'edit_company' } do |f|
      .box{'data-white-label-settings-container' => true}

        .control-group
          = f.label :white_label_enabled, 'Enabled', :class => 'control-label'
          .controls
            .switch{'data-on-label' => "", 'data-off-label' => "", 'data-ajax-updateable' => true}
              = f.check_box :white_label_enabled, 'data-white-label-enabler' => true

        = f.simple_fields_for :domain, f.object.domain || Domain.new do |domain_form|
          = domain_form.check_box :white_label_enabled, :checked => f.object.white_label_enabled, 'data-white-label-settings' => true, :class => 'hidden'
          = domain_form.input :name, :as => :limited_string, :limit => 50, :label => "Your Domain", :placeholder => 'example.com', :required => true

        = f.simple_fields_for :theme, (f.object.theme || Theme.new) do |theme_form|
          = theme_form.check_box :white_label_enabled, :checked => f.object.white_label_enabled, 'data-white-label-settings' => true, :class => 'hidden'
          = render :partial => 'themes/theme', :locals => { :f => theme_form }

        .control-group
          = f.label :listings_public, 'Listings public', :class => 'control-label'
          .controls
            .switch{'data-on-label' => "", 'data-off-label' => ""}
              = f.check_box :listings_public

        .actions
          = f.submit "Save"

:javascript
  $(function() {
    new CompanyForm($('#edit_company'))
  });
